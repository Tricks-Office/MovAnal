# MovAnal Default Configuration

# Video input settings
video:
  width: 640
  height: 480
  fps: 30
  buffer_size: 30  # Number of frames to keep in buffer

# Preprocessing settings
preprocessing:
  resize:
    width: 256
    height: 256
  normalize:
    method: "minmax"  # "minmax" (0-1) or "standard" (-1 to 1)
    mean: [0.485, 0.456, 0.406]  # ImageNet mean
    std: [0.229, 0.224, 0.225]   # ImageNet std
  grayscale: false
  clahe:
    enabled: true
    clip_limit: 2.0
    tile_grid_size: [8, 8]

# ROI (Region of Interest) settings
roi:
  enabled: false
  regions: []  # List of {x, y, width, height}

# Feature extraction settings
features:
  optical_flow:
    method: "farneback"  # "farneback" or "lucas_kanade"
    pyr_scale: 0.5
    levels: 3
    winsize: 15
    iterations: 3
    poly_n: 5
    poly_sigma: 1.2
  motion_history:
    duration: 0.5  # seconds
    threshold: 32

# Model settings (for Phase 2)
model:
  type: "autoencoder"
  latent_dim: 512
  encoder_channels: [64, 128, 256, 512]
  decoder_channels: [512, 256, 128, 64]

# Detection settings (for Phase 2)
detection:
  threshold: 0.5
  consecutive_frames: 5  # Minimum consecutive anomaly frames
  score_method: "mse"  # "mse", "mae", or "ssim"

# Training settings (for Phase 2)
training:
  batch_size: 16
  epochs: 100
  learning_rate: 0.001
  weight_decay: 0.0001
  scheduler:
    type: "step"
    step_size: 30
    gamma: 0.1

# Logging settings
logging:
  level: "INFO"
  output_dir: "logs"
  save_interval: 100  # Save checkpoint every N epochs

# Visualization settings
visualization:
  show_fps: true
  show_flow: true
  show_roi: true
  window_name: "MovAnal"
